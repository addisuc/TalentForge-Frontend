import{m as h,n as r,o as p,s as u,v as l,y as d,z as A}from"./chunk-BMJOLE36.js";import{b as c}from"./chunk-WIHTSVPG.js";import{ha as n,ma as o}from"./chunk-EGDJTDOV.js";var s=p("auth"),a=r(s,e=>e.user),f=r(s,e=>e.isAuthenticated),m=r(s,e=>e.loading),g=r(s,e=>e.error),I=r(a,e=>e?.role);var S=(()=>{class e{constructor(t,i){this.store=t,this.http=i,this.user$=this.store.select(a),this.isAuthenticated$=this.store.select(f),this.loading$=this.store.select(m),this.error$=this.store.select(g)}login(t){this.store.dispatch(u({credentials:t}))}register(t){this.store.dispatch(l({userData:t}))}logout(){this.store.dispatch(d())}clearError(){this.store.dispatch(A())}forgotPassword(t){return this.http.post("/api/auth/forgot-password",{email:t})}resetPassword(t,i){return this.http.post("/api/auth/reset-password",{token:t,newPassword:i})}verifyEmail(t){return this.http.get(`/api/auth/verify-email/${t}`)}resendVerificationEmail(t){return this.http.post("/api/auth/resend-verification",{token:t})}validateInvitation(t){return this.http.get(`/api/auth/invitations/${t}`)}acceptInvitation(t){return this.http.post(`/api/auth/invitations/${t.token}/accept`,t)}sendInvitation(t){return this.http.post("/api/auth/invitations",t)}static{this.\u0275fac=function(i){return new(i||e)(o(h),o(c))}}static{this.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{S as a};
