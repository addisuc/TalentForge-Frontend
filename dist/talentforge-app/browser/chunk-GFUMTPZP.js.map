{
  "version": 3,
  "sources": ["src/app/features/client-portal/client-candidates.component.ts"],
  "sourcesContent": ["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ApplicationService, JobApplication, ApplicationPage } from '../../core/services/application.service';\nimport { AuthService } from '../../core/auth/auth.service';\n\n@Component({\n  selector: 'app-client-candidates',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <div class=\"client-candidates-page\">\n      <div class=\"page-header\">\n        <h1>Submitted Candidates</h1>\n        <p>Candidates submitted by recruiters for your review</p>\n      </div>\n      \n      <div *ngIf=\"loading\" class=\"loading\">Loading...</div>\n      \n      <div *ngIf=\"!loading && candidatesByJob.length === 0\" class=\"empty-state\">\n        <p>No candidates have been submitted yet.</p>\n      </div>\n      \n      <div *ngFor=\"let jobGroup of candidatesByJob\" class=\"job-group\">\n        <div class=\"job-header\" (click)=\"toggleJob(jobGroup.jobId)\">\n          <div class=\"job-info\">\n            <h3>{{ jobGroup.jobTitle }}</h3>\n            <span class=\"candidate-count\">{{ jobGroup.candidates.length }} candidate(s)</span>\n          </div>\n          <span class=\"toggle-icon\">{{ jobGroup.expanded ? '▼' : '▶' }}</span>\n        </div>\n        \n        <div *ngIf=\"jobGroup.expanded\" class=\"table-container\">\n          <table class=\"data-table\">\n            <thead>\n              <tr>\n                <th>Candidate Name</th>\n                <th>Email</th>\n                <th>Status</th>\n                <th>Submitted Date</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let candidate of jobGroup.candidates\">\n                <td><strong>{{ candidate.name }}</strong></td>\n                <td>{{ candidate.email }}</td>\n                <td><span class=\"badge\" [ngClass]=\"getBadgeClass(candidate.status)\">{{ candidate.status }}</span></td>\n                <td>{{ candidate.submitted | date:'MMM d, yyyy' }}</td>\n                <td>\n                  <button class=\"btn-action\">Review</button>\n                  <button class=\"btn-action secondary\">Schedule</button>\n                  <button class=\"btn-action secondary\">Reject</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .client-candidates-page { padding: 2rem; }\n    .page-header { margin-bottom: 2rem; }\n    .page-header h1 { font-size: 2rem; font-weight: 700; color: #0f172a; margin-bottom: 0.5rem; }\n    .page-header p { color: #64748b; }\n    .loading { text-align: center; padding: 3rem; color: #64748b; }\n    .empty-state { text-align: center; padding: 3rem; background: white; border-radius: 12px; border: 1px solid #e2e8f0; }\n    .empty-state p { color: #64748b; font-size: 1rem; }\n    .job-group { margin-bottom: 1.5rem; background: white; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden; }\n    .job-header { padding: 1.5rem; cursor: pointer; display: flex; justify-content: space-between; align-items: center; background: #f8fafc; border-bottom: 1px solid #e2e8f0; }\n    .job-header:hover { background: #f1f5f9; }\n    .job-info h3 { font-size: 1.125rem; font-weight: 600; color: #0f172a; margin: 0 0 0.25rem 0; }\n    .candidate-count { font-size: 0.875rem; color: #64748b; }\n    .toggle-icon { color: #64748b; font-size: 0.875rem; }\n    .table-container { overflow-x: auto; }\n    .data-table { width: 100%; border-collapse: collapse; }\n    .data-table thead { background: #f8fafc; border-bottom: 2px solid #e2e8f0; }\n    .data-table th { padding: 16px; text-align: left; font-weight: 600; font-size: 0.875rem; color: #475569; }\n    .data-table tbody tr { border-bottom: 1px solid #f1f5f9; }\n    .data-table tbody tr:last-child { border-bottom: none; }\n    .data-table td { padding: 16px; font-size: 0.875rem; color: #0f172a; }\n    .badge { padding: 4px 12px; border-radius: 12px; font-size: 0.75rem; font-weight: 600; }\n    .badge-review { background: #fef3c7; color: #92400e; }\n    .badge-interview { background: #dbeafe; color: #1e40af; }\n    .badge-offer { background: #d1fae5; color: #065f46; }\n    .badge-hired { background: #dcfce7; color: #166534; }\n    .btn-action { background: #0066ff; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 600; cursor: pointer; margin-right: 8px; }\n    .btn-action.secondary { background: white; color: #64748b; border: 1px solid #e2e8f0; }\n    .btn-action:hover { opacity: 0.9; }\n  `]\n})\nexport class ClientCandidatesComponent implements OnInit {\n  currentPage = 1;\n  itemsPerPage = 25;\n  loading = false;\n  applications: JobApplication[] = [];\n  totalCandidates = 0;\n  companyId = ''; // This should come from the logged-in client user\n\n  constructor(\n    private applicationService: ApplicationService,\n    private authService: AuthService\n  ) {}\n\n  ngOnInit() {\n    console.log('ClientCandidatesComponent ngOnInit called');\n    // TODO: Get companyId from logged-in client user\n    // For testing, hardcode a company ID - replace with actual logic\n    this.companyId = 'd5ffee58-f341-41ce-b2a8-4458f175ab33';\n    console.log('Company ID:', this.companyId);\n    this.loadSubmissions();\n  }\n\n  loadSubmissions() {\n    console.log('loadSubmissions called with companyId:', this.companyId);\n    if (!this.companyId) {\n      console.log('No companyId, returning');\n      return;\n    }\n    \n    this.loading = true;\n    console.log('Making API call to getClientSubmissions');\n    this.applicationService.getClientSubmissions(this.companyId, 0, 100).subscribe({\n      next: (data: ApplicationPage) => {\n        this.applications = data.content;\n        this.totalCandidates = data.totalElements;\n        this.groupCandidatesByJob();\n        this.loading = false;\n      },\n      error: (err) => {\n        console.error('Failed to load submissions:', err);\n        this.loading = false;\n      }\n    });\n  }\n\n  candidatesByJob: any[] = [];\n\n  groupCandidatesByJob() {\n    const jobMap = new Map<string, any>();\n    \n    this.applications.forEach(app => {\n      const jobId = app.jobId;\n      const jobTitle = app.jobTitle || 'Unknown Position';\n      \n      if (!jobMap.has(jobId)) {\n        jobMap.set(jobId, {\n          jobId,\n          jobTitle,\n          candidates: [],\n          expanded: true\n        });\n      }\n      \n      jobMap.get(jobId).candidates.push({\n        id: app.id,\n        name: app.candidateName || 'Unknown',\n        email: app.candidateEmail || 'N/A',\n        status: this.formatStatus(app.status),\n        submitted: app.updatedAt\n      });\n    });\n    \n    this.candidatesByJob = Array.from(jobMap.values());\n  }\n\n  toggleJob(jobId: string) {\n    const job = this.candidatesByJob.find(j => j.jobId === jobId);\n    if (job) {\n      job.expanded = !job.expanded;\n    }\n  }\n\n  formatStatus(status: string): string {\n    if (status === 'SUBMITTED_TO_CLIENT') return 'Review';\n    if (status === 'CLIENT_INTERVIEW') return 'Interview';\n    if (status === 'OFFER_PENDING') return 'Offer';\n    if (status === 'HIRED') return 'Hired';\n    return status.replace(/_/g, ' ');\n  }\n\n  getBadgeClass(status: string): string {\n    if (status === 'Review') return 'badge-review';\n    if (status === 'Interview') return 'badge-interview';\n    if (status === 'Offer') return 'badge-offer';\n    if (status === 'Hired') return 'badge-hired';\n    return '';\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
