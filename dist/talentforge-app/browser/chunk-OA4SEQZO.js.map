{
  "version": 3,
  "sources": ["src/app/core/services/job-request.service.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../environments/environment';\nimport { JobRequest } from '../models/client.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class JobRequestService {\n  private readonly baseUrl = `${environment.apiUrl}/job-requests`;\n\n  constructor(private http: HttpClient) {}\n\n  // Client creates job request\n  createJobRequest(request: Partial<JobRequest>): Observable<JobRequest> {\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Authorization': `Bearer ${token}`\n    };\n    return this.http.post<JobRequest>(`${this.baseUrl}`, request, { headers });\n  }\n\n  // Client gets their job requests\n  getClientJobRequests(clientId: string): Observable<JobRequest[]> {\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Authorization': `Bearer ${token}`\n    };\n    return this.http.get<JobRequest[]>(`${this.baseUrl}/client/${clientId}`, { headers });\n  }\n\n  // Recruiter gets job requests for their clients\n  getJobRequestsForRecruiter(): Observable<JobRequest[]> {\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Authorization': `Bearer ${token}`\n    };\n    return this.http.get<JobRequest[]>(`${this.baseUrl}/recruiter`, { headers });\n  }\n\n  private getTenantIdFromToken(token: string | null): string {\n    if (!token) return '';\n    try {\n      const payload = JSON.parse(atob(token.split('.')[1]));\n      return payload.tenantId || '';\n    } catch {\n      return '';\n    }\n  }\n\n  // Recruiter updates job request status\n  updateJobRequestStatus(id: string, status: string, notes?: string): Observable<JobRequest> {\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Authorization': `Bearer ${token}`\n    };\n    return this.http.patch<JobRequest>(`${this.baseUrl}/${id}/status`, { status, notes }, { headers });\n  }\n\n  // Recruiter converts job request to job posting\n  convertToJob(id: string, jobData: any): Observable<any> {\n    return this.http.post(`${this.baseUrl}/${id}/convert`, jobData);\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;AASM,IAAO,oBAAP,MAAO,mBAAiB;EAG5B,YAAoB,MAAgB;AAAhB,SAAA,OAAA;AAFH,SAAA,UAAU,GAAG,YAAY,MAAM;EAET;;EAGvC,iBAAiB,SAA4B;AAC3C,UAAM,QAAQ,aAAa,QAAQ,OAAO;AAC1C,UAAM,UAAU;MACd,iBAAiB,UAAU,KAAK;;AAElC,WAAO,KAAK,KAAK,KAAiB,GAAG,KAAK,OAAO,IAAI,SAAS,EAAE,QAAO,CAAE;EAC3E;;EAGA,qBAAqB,UAAgB;AACnC,UAAM,QAAQ,aAAa,QAAQ,OAAO;AAC1C,UAAM,UAAU;MACd,iBAAiB,UAAU,KAAK;;AAElC,WAAO,KAAK,KAAK,IAAkB,GAAG,KAAK,OAAO,WAAW,QAAQ,IAAI,EAAE,QAAO,CAAE;EACtF;;EAGA,6BAA0B;AACxB,UAAM,QAAQ,aAAa,QAAQ,OAAO;AAC1C,UAAM,UAAU;MACd,iBAAiB,UAAU,KAAK;;AAElC,WAAO,KAAK,KAAK,IAAkB,GAAG,KAAK,OAAO,cAAc,EAAE,QAAO,CAAE;EAC7E;EAEQ,qBAAqB,OAAoB;AAC/C,QAAI,CAAC;AAAO,aAAO;AACnB,QAAI;AACF,YAAM,UAAU,KAAK,MAAM,KAAK,MAAM,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC;AACpD,aAAO,QAAQ,YAAY;IAC7B,QAAQ;AACN,aAAO;IACT;EACF;;EAGA,uBAAuB,IAAY,QAAgB,OAAc;AAC/D,UAAM,QAAQ,aAAa,QAAQ,OAAO;AAC1C,UAAM,UAAU;MACd,iBAAiB,UAAU,KAAK;;AAElC,WAAO,KAAK,KAAK,MAAkB,GAAG,KAAK,OAAO,IAAI,EAAE,WAAW,EAAE,QAAQ,MAAK,GAAI,EAAE,QAAO,CAAE;EACnG;;EAGA,aAAa,IAAY,SAAY;AACnC,WAAO,KAAK,KAAK,KAAK,GAAG,KAAK,OAAO,IAAI,EAAE,YAAY,OAAO;EAChE;;;uBAtDW,oBAAiB,mBAAA,UAAA,CAAA;IAAA;EAAA;;4EAAjB,oBAAiB,SAAjB,mBAAiB,WAAA,YAFhB,OAAM,CAAA;EAAA;;",
  "names": []
}
